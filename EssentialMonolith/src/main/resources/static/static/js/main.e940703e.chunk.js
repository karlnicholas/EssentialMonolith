(this["webpackJsonpcode-sandbox-examples"]=this["webpackJsonpcode-sandbox-examples"]||[]).push([[0],{129:function(t,e,n){"use strict";n.r(e);var a=n(3),s=n(0),i=n.n(s),c=n(15),r=n.n(c),l=n(23),o=n(16),d=n(17),j=n(19),u=n(18),h=n(8),b=(n(67),n(58)),m=n.n(b).a.create({baseURL:"http://localhost:8080/api",headers:{"Content-type":"application/json"}}),x=n(21),O=n(30),p=n.n(O),y=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={employees:[],columns:[{dataField:"id",text:"Product ID"},{dataField:"name",text:"Product Name"},{dataField:"department.name",text:"Department"}]},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.get("/hr").then((function(e){t.setState({employees:e.data})}))}},{key:"render",value:function(){return Object(a.jsx)(x.a,{children:Object(a.jsx)(p.a,{bootstrap4:!0,keyField:"id",data:this.state.employees,columns:this.state.columns})})}}]),n}(i.a.Component),v=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={worklogs:[],columns:[{dataField:"id",text:"ID"},{dataField:"entryDate",text:"Entry Date"},{dataField:"hours",text:"Hours"},{dataField:"rate",text:"Rate"},{dataField:"project.name",text:"Project"},{dataField:"project.client.name",text:"Client"},{dataField:"employee.name",text:"Employee"},{dataField:"employee.department.name",text:"Department"}]},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.get("/planning").then((function(e){t.setState({worklogs:e.data})}))}},{key:"render",value:function(){return Object(a.jsx)(x.a,{children:Object(a.jsx)(p.a,{keyField:"id",bootstrap4:!0,data:this.state.worklogs,columns:this.state.columns})})}}]),n}(i.a.Component),f=n(26),g=n(27),k=n(60),w=n(32),S=n(28);function T(){m.get("/analysis/populate"),window.location.reload()}var D=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={analysisRun:"",lastRunDateTime:"",count:0,dimensions:[],dropdownTitles:[],dropdownIds:[],queryStats:null},a.onTargetSelect=a.onTargetSelect.bind(Object(f.a)(a)),a.onClick=a.onClick.bind(Object(f.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;m.get("/analysis").then((function(e){var n=t.state.dropdownTitles.slice();n=new Array(e.data.analysisDimensions.length).fill("");var a=t.state.dropdownIds.slice();a=new Array(e.data.analysisDimensions.length).fill(null),t.setState({analysisRun:e.data.analysisRun,lastRunDateTime:new Date(e.data.analysisRun.lastRunTime),count:e.data.factCount,dimensions:e.data.analysisDimensions,dropdownTitles:n,dropdownIds:a})})).catch((function(t){}))}},{key:"onTargetSelect",value:function(t,e,n){var a=this.state.dropdownTitles.slice();a[n]=t;var s=this.state.dropdownIds.slice();s[n]=e,this.setState({dropdownTitles:a,dropdownIds:s})}},{key:"onClick",value:function(){var t,e=this,n="",a="?";for(t=0;t<this.state.dropdownTitles.length;++t){var s=this.state.dropdownIds[t];null!==s&&(n+=a+this.state.dimensions[t].name+"="+s,a="&")}m.get("/analysis/billingresult"+n).then((function(t){e.setState({queryStats:t.data}),console.log(e.state.queryStats)}))}},{key:"render",value:function(){var t=this,e=this.state.queryStats;return Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(w.a,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Populate"}),Object(a.jsx)("th",{children:"Current Count"}),Object(a.jsx)("th",{children:"Last Run Time"}),Object(a.jsx)("th",{children:"Populating"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(g.a,{onClick:T,children:"Populate"})}),Object(a.jsx)("td",{children:this.state.count}),Object(a.jsx)("td",{children:new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(this.state.lastRunDateTime)}),Object(a.jsx)("td",{children:String(this.state.analysisRun.populating)})]})})]}),Object(a.jsxs)(w.a,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Query"}),function(){if(t.state.dimensions.length>0)return t.state.dimensions.map((function(t){return Object(a.jsx)("th",{children:t.name},t.name)}))}()]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(g.a,{onClick:function(){return t.onClick()},children:"Query"})}),function(){if(t.state.dimensions.length>0)return t.state.dimensions.map((function(e,n){return Object(a.jsx)("td",{children:Object(a.jsxs)(k.a,{id:e.name,title:t.state.dropdownTitles[n],children:[Object(a.jsx)(S.a,{value:"",onSelect:function(){return t.onTargetSelect("",null,n)},children:"\xa0"}),e.dimensions.map((function(e){return Object(a.jsx)(S.a,{value:e.id,onSelect:function(){return t.onTargetSelect(e.name,e.id,n)},children:e.name},e.id)}))]})},e.name)}))}()]})})]}),function(){if(null!=e)return Object(a.jsxs)(w.a,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Amount"}),Object(a.jsx)("th",{children:"Mean"}),Object(a.jsx)("th",{children:"Min"}),Object(a.jsx)("th",{children:"Max"})]})}),Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.sum.toLocaleString()}),Object(a.jsx)("td",{children:e.mean.toLocaleString()}),Object(a.jsx)("td",{children:e.min.toLocaleString()}),Object(a.jsx)("td",{children:e.max.toLocaleString()})]})})]})}()]})}}]),n}(i.a.Component),C=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(a.jsx)(l.b,{to:"/",className:"navbar-brand",children:"Home"}),Object(a.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.b,{to:"/planning",className:"nav-link",children:"Planning"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(l.b,{to:"/analysis",className:"nav-link",children:"Analysis"})})]})]}),Object(a.jsx)("div",{className:"container mt-3",children:Object(a.jsxs)(h.c,{children:[Object(a.jsx)(h.a,{exact:!0,path:"/",component:y}),Object(a.jsx)(h.a,{exact:!0,path:"/planning",component:v}),Object(a.jsx)(h.a,{exact:!0,path:"/analysis",component:D})]})})]})}}]),n}(s.Component);r.a.render(Object(a.jsx)(l.a,{children:Object(a.jsx)(C,{})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.e940703e.chunk.js.map